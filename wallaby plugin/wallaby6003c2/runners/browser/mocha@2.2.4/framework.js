/*
 * Wallaby.js - v1.0.1328
 * https://wallabyjs.com
 * Copyright (c) 2014-2022 Wallaby.js - All Rights Reserved.
 *
 * This source code file is a part of Wallaby.js and is a proprietary (closed source) software.

 * IMPORTANT:
 * Wallaby.js is a tool made by software developers for software developers with passion and love for what we do.
 * Pirating the tool is not only illegal and just morally wrong,
 * it is also unfair to other fellow programmers who are using it legally,
 * and very harmful for the tool and its future.
 */
!function(){function e(t){var i=e.resolve(t),r=e.modules[i];if(!r)throw new Error('failed to require "'+t+'"');return r.exports||(r.exports={},r.call(r.exports,r,r.exports,e.relative(i))),r.exports}function t(){for(var e=(new r).getTime();h.length&&(new r).getTime()-e<100;)h.shift()();u=h.length?n(t,0):null}e.modules={},e.resolve=function(t){var i=t,r=t+".js",n=t+"/index.js";return e.modules[r]&&r||e.modules[n]&&n||i},e.register=function(t,i){e.modules[t]=i},e.relative=function(t){return function(i){if("."!=i.charAt(0))return e(i);var r=t.split("/"),n=i.split("/");r.pop();for(var s=0;s<n.length;s++){var o=n[s];".."==o?r.pop():"."!=o&&r.push(o)}return e(r.join("/"))}},e.register("browser/debug.js",function(e,t,i){e.exports=function(e){return function(){}}}),e.register("browser/diff.js",function(e,t,i){var r=function(){function e(e){return{newPos:e.newPos,components:e.components.slice(0)}}function t(e){for(var t=[],i=0;i<e.length;i++)e[i]&&t.push(e[i]);return t}function i(e){var t=e;return t=t.replace(/&/g,"&amp;"),t=t.replace(/</g,"&lt;"),t=t.replace(/>/g,"&gt;"),t=t.replace(/"/g,"&quot;")}var r=function(e){this.ignoreWhitespace=e};r.prototype={diff:function(t,i){if(i===t)return[{value:i}];if(!i)return[{value:t,removed:!0}];if(!t)return[{value:i,added:!0}];i=this.tokenize(i),t=this.tokenize(t);var r=i.length,n=t.length,s=r+n,o=[{newPos:-1,components:[]}],a=this.extractCommon(o[0],i,t,0);if(o[0].newPos+1>=r&&a+1>=n)return o[0].components;for(var l=1;l<=s;l++)for(var c=-1*l;c<=l;c+=2){var u,h=o[c-1],d=o[c+1];a=(d?d.newPos:0)-c,h&&(o[c-1]=void 0);var p=h&&h.newPos+1<r,f=d&&0<=a&&a<n;if(p||f){!p||f&&h.newPos<d.newPos?(u=e(d),this.pushComponent(u.components,t[a],void 0,!0)):(u=e(h),u.newPos++,this.pushComponent(u.components,i[u.newPos],!0,void 0));var a=this.extractCommon(u,i,t,c);if(u.newPos+1>=r&&a+1>=n)return u.components;o[c]=u}else o[c]=void 0}},pushComponent:function(e,t,i,r){var n=e[e.length-1];n&&n.added===i&&n.removed===r?e[e.length-1]={value:this.join(n.value,t),added:i,removed:r}:e.push({value:t,added:i,removed:r})},extractCommon:function(e,t,i,r){for(var n=t.length,s=i.length,o=e.newPos,a=o-r;o+1<n&&a+1<s&&this.equals(t[o+1],i[a+1]);)o++,a++,this.pushComponent(e.components,t[o],void 0,void 0);return e.newPos=o,a},equals:function(e,t){var i=/\S/;return!(!this.ignoreWhitespace||i.test(e)||i.test(t))||e===t},join:function(e,t){return e+t},tokenize:function(e){return e}};var n=new r,s=new r((!0)),o=new r;s.tokenize=o.tokenize=function(e){return t(e.split(/(\s+|\b)/))};var a=new r((!0));a.tokenize=function(e){return t(e.split(/([{}:;,]|\s+)/))};var l=new r;return l.tokenize=function(e){for(var t=[],i=e.split(/^/m),r=0;r<i.length;r++){var n=i[r],s=i[r-1];"\n"==n&&s&&"\r"===s[s.length-1]?t[t.length-1]+="\n":n&&t.push(n)}return t},{Diff:r,diffChars:function(e,t){return n.diff(e,t)},diffWords:function(e,t){return s.diff(e,t)},diffWordsWithSpace:function(e,t){return o.diff(e,t)},diffLines:function(e,t){return l.diff(e,t)},diffCss:function(e,t){return a.diff(e,t)},createPatch:function(e,t,i,r,n){function s(e){return e.map(function(e){return" "+e})}function o(e,t,i){var r=c[c.length-2],n=t===c.length-2,s=t===c.length-3&&(i.added!==r.added||i.removed!==r.removed);/\n$/.test(i.value)||!n&&!s||e.push("\\ No newline at end of file")}var a=[];a.push("Index: "+e),a.push("==================================================================="),a.push("--- "+e+("undefined"==typeof r?"":"\t"+r)),a.push("+++ "+e+("undefined"==typeof n?"":"\t"+n));var c=l.diff(t,i);c[c.length-1].value||c.pop(),c.push({value:"",lines:[]});for(var u=0,h=0,d=[],p=1,f=1,g=0;g<c.length;g++){var v=c[g],m=v.lines||v.value.replace(/\n$/,"").split("\n");if(v.lines=m,v.added||v.removed){if(!u){var y=c[g-1];u=p,h=f,y&&(d=s(y.lines.slice(-4)),u-=d.length,h-=d.length)}d.push.apply(d,m.map(function(e){return(v.added?"+":"-")+e})),o(d,g,v),v.added?f+=m.length:p+=m.length}else{if(u)if(m.length<=8&&g<c.length-2)d.push.apply(d,s(m));else{var _=Math.min(m.length,4);a.push("@@ -"+u+","+(p-u+_)+" +"+h+","+(f-h+_)+" @@"),a.push.apply(a,d),a.push.apply(a,s(m.slice(0,_))),m.length<=4&&o(a,g,v),u=0,h=0,d=[]}p+=m.length,f+=m.length}}return a.join("\n")+"\n"},applyPatch:function(e,t){for(var i=t.split("\n"),r=[],n=!1,s=!1,o="I"===i[0][0]?4:0;o<i.length;o++)if("@"===i[o][0]){var a=i[o].split(/@@ -(\d+),(\d+) \+(\d+),(\d+) @@/);r.unshift({start:a[3],oldlength:a[2],oldlines:[],newlength:a[4],newlines:[]})}else"+"===i[o][0]?r[0].newlines.push(i[o].substr(1)):"-"===i[o][0]?r[0].oldlines.push(i[o].substr(1)):" "===i[o][0]?(r[0].newlines.push(i[o].substr(1)),r[0].oldlines.push(i[o].substr(1))):"\\"===i[o][0]&&("+"===i[o-1][0]?n=!0:"-"===i[o-1][0]&&(s=!0));for(var l=e.split("\n"),o=r.length-1;o>=0;o--){for(var c=r[o],u=0;u<c.oldlength;u++)if(l[c.start-1+u]!==c.oldlines[u])return!1;Array.prototype.splice.apply(l,[c.start-1,+c.oldlength].concat(c.newlines))}if(n)for(;!l[l.length-1];)l.pop();else s&&l.push("");return l.join("\n")},convertChangesToXML:function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];n.added?t.push("<ins>"):n.removed&&t.push("<del>"),t.push(i(n.value)),n.added?t.push("</ins>"):n.removed&&t.push("</del>")}return t.join("")},convertChangesToDMP:function(e){for(var t,i=[],r=0;r<e.length;r++)t=e[r],i.push([t.added?1:t.removed?-1:0,t.value]);return i}}}();"undefined"!=typeof e&&(e.exports=r)}),e.register("browser/escape-string-regexp.js",function(e,t,i){"use strict";var r=/[|\\{}()[\]^$+*?.]/g;e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(r,"\\$&")}}),e.register("browser/events.js",function(e,t,i){function r(e){return"[object Array]"=={}.toString.call(e)}function n(){}t.EventEmitter=n,n.prototype.on=function(e,t){return this.$events||(this.$events={}),this.$events[e]?r(this.$events[e])?this.$events[e].push(t):this.$events[e]=[this.$events[e],t]:this.$events[e]=t,this},n.prototype.addListener=n.prototype.on,n.prototype.once=function(e,t){function i(){r.removeListener(e,i),t.apply(this,arguments)}var r=this;return i.listener=t,this.on(e,i),this},n.prototype.removeListener=function(e,t){if(this.$events&&this.$events[e]){var i=this.$events[e];if(r(i)){for(var n=-1,s=0,o=i.length;s<o;s++)if(i[s]===t||i[s].listener&&i[s].listener===t){n=s;break}if(n<0)return this;i.splice(n,1),i.length||delete this.$events[e]}else(i===t||i.listener&&i.listener===t)&&delete this.$events[e]}return this},n.prototype.removeAllListeners=function(e){return void 0===e?(this.$events={},this):(this.$events&&this.$events[e]&&(this.$events[e]=null),this)},n.prototype.listeners=function(e){return this.$events||(this.$events={}),this.$events[e]||(this.$events[e]=[]),r(this.$events[e])||(this.$events[e]=[this.$events[e]]),this.$events[e]},n.prototype.emit=function(e){if(!this.$events)return!1;var t=this.$events[e];if(!t)return!1;var i=[].slice.call(arguments,1);if("function"==typeof t)t.apply(this,i);else{if(!r(t))return!1;for(var n=t.slice(),s=0,o=n.length;s<o;s++)n[s].apply(this,i)}return!0}}),e.register("browser/fs.js",function(e,t,i){}),e.register("browser/glob.js",function(e,t,i){}),e.register("browser/path.js",function(e,t,i){}),e.register("browser/progress.js",function(e,t,i){function r(){this.percent=0,this.size(0),this.fontSize(11),this.font("helvetica, arial, sans-serif")}e.exports=r,r.prototype.size=function(e){return this._size=e,this},r.prototype.text=function(e){return this._text=e,this},r.prototype.fontSize=function(e){return this._fontSize=e,this},r.prototype.font=function(e){return this._font=e,this},r.prototype.update=function(e){return this.percent=e,this},r.prototype.draw=function(e){try{var t=Math.min(this.percent,100),i=this._size,r=i/2,n=r,s=r,o=r-1,a=this._fontSize;e.font=a+"px "+this._font;var l=2*Math.PI*(t/100);e.clearRect(0,0,i,i),e.strokeStyle="#9f9f9f",e.beginPath(),e.arc(n,s,o,0,l,!1),e.stroke(),e.strokeStyle="#eee",e.beginPath(),e.arc(n,s,o-1,0,l,!0),e.stroke();var c=this._text||(0|t)+"%",u=e.measureText(c).width;e.fillText(c,n-u/2+1,s+a/2-1)}catch(h){}return this}}),e.register("browser/tty.js",function(e,t,r){t.isatty=function(){return!0},t.getWindowSize=function(){return"innerHeight"in i?[i.innerHeight,i.innerWidth]:[640,480]}}),e.register("context.js",function(e,t,i){function r(){}e.exports=r,r.prototype.runnable=function(e){return 0==arguments.length?this._runnable:(this.test=this._runnable=e,this)},r.prototype.timeout=function(e){return 0===arguments.length?this.runnable().timeout():(this.runnable().timeout(e),this)},r.prototype.enableTimeouts=function(e){return this.runnable().enableTimeouts(e),this},r.prototype.slow=function(e){return this.runnable().slow(e),this},r.prototype.skip=function(){return this.runnable().skip(),this},r.prototype.inspect=function(){return JSON.stringify(this,function(e,t){if("_runnable"!=e&&"test"!=e)return t},2)}}),e.register("hook.js",function(e,t,i){function r(e,t){s.call(this,e,t),this.type="hook"}function n(){}var s=i("./runnable");e.exports=r,n.prototype=s.prototype,r.prototype=new n,r.prototype.constructor=r,r.prototype.error=function(e){if(0==arguments.length){var e=this._error;return this._error=null,e}this._error=e}}),e.register("interfaces/bdd.js",function(e,t,i){var r=i("../suite"),n=i("../test"),s=(i("../utils"),i("browser/escape-string-regexp"));e.exports=function(e){var t=[e];e.on("pre-require",function(o,a,l){var c=i("./common")(t,o);o.before=c.before,o.after=c.after,o.beforeEach=c.beforeEach,o.afterEach=c.afterEach,o.run=l.options.delay&&c.runWithSuite(e),o.describe=o.context=function(e,i){var n=r.create(t[0],e);return n.file=a,t.unshift(n),i.call(n),t.shift(),n},o.xdescribe=o.xcontext=o.describe.skip=function(e,i){var n=r.create(t[0],e);n.pending=!0,t.unshift(n),i.call(n),t.shift()},o.describe.only=function(e,t){var i=o.describe(e,t);return l.grep(i.fullTitle()),i},o.it=o.specify=function(e,i){var r=t[0];r.pending&&(i=null);var s=new n(e,i);return s.file=a,r.addTest(s),s},o.it.only=function(e,t){var i=o.it(e,t),r="^"+s(i.fullTitle())+"$";return l.grep(new RegExp(r)),i},o.xit=o.xspecify=o.it.skip=function(e){o.it(e)}})}}),e.register("interfaces/common.js",function(e,t,i){"use strict";e.exports=function(e,t){return{runWithSuite:function(e){return function(){e.run()}},before:function(t,i){e[0].beforeAll(t,i)},after:function(t,i){e[0].afterAll(t,i)},beforeEach:function(t,i){e[0].beforeEach(t,i)},afterEach:function(t,i){e[0].afterEach(t,i)},test:{skip:function(e){t.test(e)}}}}}),e.register("interfaces/exports.js",function(e,t,i){var r=i("../suite"),n=i("../test");e.exports=function(e){function t(e,s){var o;for(var a in e)if("function"==typeof e[a]){var l=e[a];switch(a){case"before":i[0].beforeAll(l);break;case"after":i[0].afterAll(l);break;case"beforeEach":i[0].beforeEach(l);break;case"afterEach":i[0].afterEach(l);break;default:var c=new n(a,l);c.file=s,i[0].addTest(c)}}else o=r.create(i[0],a),i.unshift(o),t(e[a]),i.shift()}var i=[e];e.on("require",t)}}),e.register("interfaces/index.js",function(e,t,i){t.bdd=i("./bdd"),t.tdd=i("./tdd"),t.qunit=i("./qunit"),t.exports=i("./exports")}),e.register("interfaces/qunit.js",function(e,t,i){var r=i("../suite"),n=i("../test"),s=i("browser/escape-string-regexp");i("../utils");e.exports=function(e){var t=[e];e.on("pre-require",function(o,a,l){var c=i("./common")(t,o);o.before=c.before,o.after=c.after,o.beforeEach=c.beforeEach,o.afterEach=c.afterEach,o.run=l.options.delay&&c.runWithSuite(e),o.suite=function(e){t.length>1&&t.shift();var i=r.create(t[0],e);return i.file=a,t.unshift(i),i},o.suite.only=function(e,t){var i=o.suite(e,t);l.grep(i.fullTitle())},o.test=function(e,i){var r=new n(e,i);return r.file=a,t[0].addTest(r),r},o.test.only=function(e,t){var i=o.test(e,t),r="^"+s(i.fullTitle())+"$";l.grep(new RegExp(r))},o.test.skip=c.test.skip})}}),e.register("interfaces/tdd.js",function(e,t,i){var r=i("../suite"),n=i("../test"),s=i("browser/escape-string-regexp");i("../utils");e.exports=function(e){var t=[e];e.on("pre-require",function(o,a,l){var c=i("./common")(t,o);o.setup=c.beforeEach,o.teardown=c.afterEach,o.suiteSetup=c.before,o.suiteTeardown=c.after,o.run=l.options.delay&&c.runWithSuite(e),o.suite=function(e,i){var n=r.create(t[0],e);return n.file=a,t.unshift(n),i.call(n),t.shift(),n},o.suite.skip=function(e,i){var n=r.create(t[0],e);n.pending=!0,t.unshift(n),i.call(n),t.shift()},o.suite.only=function(e,t){var i=o.suite(e,t);l.grep(i.fullTitle())},o.test=function(e,i){var r=t[0];r.pending&&(i=null);var s=new n(e,i);return s.file=a,r.addTest(s),s},o.test.only=function(e,t){var i=o.test(e,t),r="^"+s(i.fullTitle())+"$";l.grep(new RegExp(r))},o.test.skip=c.test.skip})}}),e.register("mocha.js",function(e,t,r){function n(e){return __dirname+"/../images/"+e+".png"}function o(e){e=e||{},this.files=[],this.options=e,e.grep&&this.grep(new RegExp(e.grep)),e.fgrep&&this.grep(e.fgrep),this.suite=new t.Suite("",new t.Context),this.ui(e.ui),this.bail(e.bail),this.reporter(e.reporter,e.reporterOptions),null!=e.timeout&&this.timeout(e.timeout),this.useColors(e.useColors),null!==e.enableTimeouts&&this.enableTimeouts(e.enableTimeouts),e.slow&&this.slow(e.slow),this.suite.on("pre-require",function(e){t.afterEach=e.afterEach||e.teardown,t.after=e.after||e.suiteTeardown,t.beforeEach=e.beforeEach||e.setup,t.before=e.before||e.suiteSetup,t.describe=e.describe||e.suite,t.it=e.it||e.test,t.setup=e.setup||e.beforeEach,t.suiteSetup=e.suiteSetup||e.before,t.suiteTeardown=e.suiteTeardown||e.after,t.suite=e.suite||e.describe,t.teardown=e.teardown||e.afterEach,t.test=e.test||e.it,t.run=e.run})}var a=r("browser/path"),l=r("browser/escape-string-regexp"),c=r("./utils");if(t=e.exports=o,"undefined"!=typeof s&&"function"==typeof s.cwd){var u=a.join,h=s.cwd();e.paths.push(h,u(h,"node_modules"))}t.utils=c,t.interfaces=r("./interfaces"),t.reporters=r("./reporters"),t.Runnable=r("./runnable"),t.Context=r("./context"),t.Runner=r("./runner"),t.Suite=r("./suite"),t.Hook=r("./hook"),t.Test=r("./test"),o.prototype.bail=function(e){return 0==arguments.length&&(e=!0),this.suite.bail(e),this},o.prototype.addFile=function(e){return this.files.push(e),this},o.prototype.reporter=function(e,t){if("function"==typeof e)this._reporter=e;else{e=e||"spec";var i;try{i=r("./reporters/"+e)}catch(n){}if(!i)try{i=r(e)}catch(n){n.message.indexOf("Cannot find module")!==-1?console.warn('"'+e+'" reporter not found'):console.warn('"'+e+'" reporter blew up with error:\n'+n.stack)}if(i||"teamcity"!==e||console.warn("The Teamcity reporter was moved to a package named mocha-teamcity-reporter (https://npmjs.org/package/mocha-teamcity-reporter)."),!i)throw new Error('invalid reporter "'+e+'"');this._reporter=i}return this.options.reporterOptions=t,this},o.prototype.ui=function(e){if(e=e||"bdd",this._ui=t.interfaces[e],!this._ui)try{this._ui=r(e)}catch(i){}if(!this._ui)throw new Error('invalid interface "'+e+'"');return this._ui=this._ui(this.suite),this},o.prototype.loadFiles=function(e){var t=this,n=this.suite,s=this.files.length;this.files.forEach(function(o){o=a.resolve(o),n.emit("pre-require",i,o,t),n.emit("require",r(o),o,t),n.emit("post-require",i,o,t),--s||e&&e()})},o.prototype._growl=function(e,t){var i=r("growl");e.on("end",function(){var r=t.stats;if(r.failures){var s=r.failures+" of "+e.total+" tests failed";i(s,{name:"mocha",title:"Failed",image:n("error")})}else i(r.passes+" tests passed in "+r.duration+"ms",{name:"mocha",title:"Passed",image:n("ok")})})},o.prototype.grep=function(e){return this.options.grep="string"==typeof e?new RegExp(l(e)):e,this},o.prototype.invert=function(){return this.options.invert=!0,this},o.prototype.ignoreLeaks=function(e){return this.options.ignoreLeaks=!!e,this},o.prototype.checkLeaks=function(){return this.options.ignoreLeaks=!1,this},o.prototype.fullTrace=function(){return this.options.fullStackTrace=!0,this},o.prototype.growl=function(){return this.options.growl=!0,this},o.prototype.globals=function(e){return this.options.globals=(this.options.globals||[]).concat(e),this},o.prototype.useColors=function(e){return void 0!==e&&(this.options.useColors=e),this},o.prototype.useInlineDiffs=function(e){return this.options.useInlineDiffs=!(!arguments.length||void 0==e)&&e,this},o.prototype.timeout=function(e){return this.suite.timeout(e),this},o.prototype.slow=function(e){return this.suite.slow(e),this},o.prototype.enableTimeouts=function(e){return this.suite.enableTimeouts(!arguments.length||void 0===e||e),this},o.prototype.asyncOnly=function(){return this.options.asyncOnly=!0,this},o.prototype.noHighlighting=function(){return this.options.noHighlighting=!0,this},o.prototype.delay=function(){return this.options.delay=!0,this},o.prototype.run=function(e){function i(t){o.done?o.done(t,e):e&&e(t)}this.files.length&&this.loadFiles();var r=this.suite,n=this.options;n.files=this.files;var s=new t.Runner(r,n.delay),o=new this._reporter(s,n);return s.ignoreLeaks=!1!==n.ignoreLeaks,s.fullStackTrace=n.fullStackTrace,s.asyncOnly=n.asyncOnly,n.grep&&s.grep(n.grep,n.invert),n.globals&&s.globals(n.globals),n.growl&&this._growl(s,o),void 0!==n.useColors&&(t.reporters.Base.useColors=n.useColors),t.reporters.Base.inlineDiffs=n.useInlineDiffs,s.run(i)}}),e.register("ms.js",function(e,t,i){function r(e){var t=/^((?:\d+)?\.?\d+) *(ms|seconds?|s|minutes?|m|hours?|h|days?|d|years?|y)?$/i.exec(e);if(t){var i=parseFloat(t[1]),r=(t[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"y":return i*h;case"days":case"day":case"d":return i*u;case"hours":case"hour":case"h":return i*c;case"minutes":case"minute":case"m":return i*l;case"seconds":case"second":case"s":return i*a;case"ms":return i}}}function n(e){return e>=u?Math.round(e/u)+"d":e>=c?Math.round(e/c)+"h":e>=l?Math.round(e/l)+"m":e>=a?Math.round(e/a)+"s":e+"ms"}function s(e){return o(e,u,"day")||o(e,c,"hour")||o(e,l,"minute")||o(e,a,"second")||e+" ms"}function o(e,t,i){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+i:Math.ceil(e/t)+" "+i+"s"}var a=1e3,l=60*a,c=60*l,u=24*c,h=365.25*u;e.exports=function(e,t){return t=t||{},"string"==typeof e?r(e):t["long"]?s(e):n(e)}}),e.register("pending.js",function(e,t,i){function r(e){this.message=e}e.exports=r}),e.register("reporters/base.js",function(e,t,r){function n(e){var t=this.stats={suites:0,tests:0,passes:0,pending:0,failures:0},i=this.failures=[];e&&(this.runner=e,e.stats=t,e.on("start",function(){t.start=new y}),e.on("suite",function(e){t.suites=t.suites||0,e.root||t.suites++}),e.on("test end",function(e){t.tests=t.tests||0,t.tests++}),e.on("pass",function(e){t.passes=t.passes||0;var i=e.slow()/2;e.speed=e.duration>e.slow()?"slow":e.duration>i?"medium":"fast",t.passes++}),e.on("fail",function(e,r){t.failures=t.failures||0,t.failures++,e.err=r,i.push(e)}),e.on("end",function(){t.end=new y,t.duration=new y-t.start}),e.on("pending",function(){t.pending++}))}function o(e,t){return e=String(e),Array(t-e.length+1).join(" ")+e}function a(e,t){var i=c(e,"WordsWithSpace",t),r=i.split("\n");if(r.length>4){var n=String(r.length).length;i=r.map(function(e,t){return o(++t,n)+" | "+e}).join("\n")}return i="\n"+b("diff removed","actual")+" "+b("diff added","expected")+"\n\n"+i+"\n",i=i.replace(/^/gm,"      ")}function l(e,t){function i(e){return t&&(e=u(e)),"+"===e[0]?n+h("diff added",e):"-"===e[0]?n+h("diff removed",e):e.match(/\@\@/)?null:e.match(/\\ No newline/)?null:n+e}function r(e){return null!=e}var n="      ",s=f.createPatch("string",e.actual,e.expected),o=s.split("\n").splice(4);return"\n      "+h("diff added","+ expected")+" "+h("diff removed","- actual")+"\n\n"+o.map(i).filter(r).join("\n")}function c(e,t,i){var r=i?u(e.actual):e.actual,n=i?u(e.expected):e.expected;return f["diff"+t](r,n).map(function(e){return e.added?h("diff added",e.value):e.removed?h("diff removed",e.value):e.value}).join("")}function u(e){return e.replace(/\t/g,"<tab>").replace(/\r/g,"<CR>").replace(/\n/g,"<LF>\n")}function h(e,t){return t.split("\n").map(function(t){return b(e,t)}).join("\n")}function d(e,t){return e=Object.prototype.toString.call(e),t=Object.prototype.toString.call(t),e==t}var p=r("browser/tty"),f=r("browser/diff"),g=r("../ms"),v=r("../utils"),m=s.env?r("supports-color"):null,y=i.Date,_=(i.setTimeout,i.setInterval,i.clearTimeout,i.clearInterval,p.isatty(1)&&p.isatty(2));t=e.exports=n,t.useColors=!!s.env&&(m||void 0!==s.env.MOCHA_COLORS),t.inlineDiffs=!1,t.colors={pass:90,fail:31,"bright pass":92,"bright fail":91,"bright yellow":93,pending:36,suite:0,"error title":0,"error message":31,"error stack":90,checkmark:32,fast:90,medium:33,slow:31,green:32,light:90,"diff gutter":90,"diff added":42,"diff removed":41},t.symbols={ok:"âœ“",err:"âœ–",dot:"â€¤"},"win32"==s.platform&&(t.symbols.ok="âˆš",t.symbols.err="Ã—",t.symbols.dot=".");var b=t.color=function(e,i){return t.useColors?"["+t.colors[e]+"m"+i+"[0m":String(i)};t.window={width:_?s.stdout.getWindowSize?s.stdout.getWindowSize(1)[0]:p.getWindowSize()[1]:75},t.cursor={hide:function(){_&&s.stdout.write("[?25l")},show:function(){_&&s.stdout.write("[?25h")},deleteLine:function(){_&&s.stdout.write("[2K")},beginningOfLine:function(){_&&s.stdout.write("[0G")},CR:function(){_?(t.cursor.deleteLine(),t.cursor.beginningOfLine()):s.stdout.write("\r")}},t.list=function(e){console.log(),e.forEach(function(e,i){var r=b("error title","  %s) %s:\n")+b("error message","     %s")+b("error stack","\n%s\n"),n=e.err,s=n.message||"",o=n.stack||s,c=o.indexOf(s),u=n.actual,h=n.expected,p=!0;if(c===-1?msg=s:(c+=s.length,msg=o.slice(0,c),o=o.slice(c+1)),n.uncaught&&(msg="Uncaught "+msg),n.showDiff!==!1&&d(u,h)&&void 0!==h){"string"!=typeof u&&(p=!1,n.actual=u=v.stringify(u),n.expected=h=v.stringify(h)),r=b("error title","  %s) %s:\n%s")+b("error stack","\n%s\n");var f=s.match(/^([^:]+): expected/);msg="\n      "+b("error message",f?f[1]:msg),t.inlineDiffs?msg+=a(n,p):msg+=l(n,p)}o=o.replace(/^/gm,"  "),console.log(r,i+1,e.fullTitle(),msg,o)})},n.prototype.epilogue=function(){var e,t=this.stats;console.log(),e=b("bright pass"," ")+b("green"," %d passing")+b("light"," (%s)"),console.log(e,t.passes||0,g(t.duration)),t.pending&&(e=b("pending"," ")+b("pending"," %d pending"),console.log(e,t.pending)),t.failures&&(e=b("fail","  %d failing"),console.log(e,t.failures),n.list(this.failures),console.log()),console.log()}}),e.register("reporters/doc.js",function(e,t,i){function r(e){function t(){return Array(i).join("  ")}n.call(this,e);var i=(this.stats,e.total,2);e.on("suite",function(e){e.root||(++i,console.log('%s<section class="suite">',t()),++i,console.log("%s<h1>%s</h1>",t(),s.escape(e.title)),console.log("%s<dl>",t()))}),e.on("suite end",function(e){e.root||(console.log("%s</dl>",t()),--i,console.log("%s</section>",t()),--i)}),e.on("pass",function(e){console.log("%s  <dt>%s</dt>",t(),s.escape(e.title));var i=s.escape(s.clean(e.fn.toString()));console.log("%s  <dd><pre><code>%s</code></pre></dd>",t(),i)}),e.on("fail",function(e,i){console.log('%s  <dt class="error">%s</dt>',t(),s.escape(e.title));var r=s.escape(s.clean(e.fn.toString()));console.log('%s  <dd class="error"><pre><code>%s</code></pre></dd>',t(),r),console.log('%s  <dd class="error">%s</dd>',t(),s.escape(i))})}var n=i("./base"),s=i("../utils");t=e.exports=r}),e.register("reporters/dot.js",function(e,t,i){function r(e){o.call(this,e);var t=this,i=(this.stats,.75*o.window.width|0),r=-1;e.on("start",function(){s.stdout.write("\n")}),e.on("pending",function(e){++r%i==0&&s.stdout.write("\n  "),s.stdout.write(a("pending",o.symbols.dot))}),e.on("pass",function(e){++r%i==0&&s.stdout.write("\n  "),"slow"==e.speed?s.stdout.write(a("bright yellow",o.symbols.dot)):s.stdout.write(a(e.speed,o.symbols.dot))}),e.on("fail",function(e,t){++r%i==0&&s.stdout.write("\n  "),s.stdout.write(a("fail",o.symbols.dot))}),e.on("end",function(){console.log(),t.epilogue()})}function n(){}var o=i("./base"),a=o.color;t=e.exports=r,n.prototype=o.prototype,r.prototype=new n,r.prototype.constructor=r}),e.register("reporters/html-cov.js",function(e,t,i){function r(e){var t=i("jade"),r=__dirname+"/templates/coverage.jade",l=a.readFileSync(r,"utf8"),c=t.compile(l,{filename:r}),u=this;o.call(this,e,!1),e.on("end",function(){s.stdout.write(c({cov:u.cov,coverageClass:n}))})}function n(e){return e>=75?"high":e>=50?"medium":e>=25?"low":"terrible"}var o=i("./json-cov"),a=i("browser/fs");t=e.exports=r}),e.register("reporters/html.js",function(e,t,r){function n(e){h.call(this,e);var t,i,r=this,n=this.stats,m=(e.total,o(v)),y=m.getElementsByTagName("li"),_=y[1].getElementsByTagName("em")[0],b=y[1].getElementsByTagName("a")[0],k=y[2].getElementsByTagName("em")[0],T=y[2].getElementsByTagName("a")[0],S=y[3].getElementsByTagName("em")[0],C=m.getElementsByTagName("canvas")[0],L=o('<ul id="mocha-report"></ul>'),w=[L],x=document.getElementById("mocha");if(C.getContext){var j=window.devicePixelRatio||1;C.style.width=C.width,C.style.height=C.height,C.width*=j,C.height*=j,i=C.getContext("2d"),i.scale(j,j),t=new p}return x?(u(b,"click",function(){l();var e=/pass/.test(L.className)?"":" pass";L.className=L.className.replace(/fail|pass/g,"")+e,L.className.trim()&&a("test pass")}),u(T,"click",function(){l();var e=/fail/.test(L.className)?"":" fail";L.className=L.className.replace(/fail|pass/g,"")+e,L.className.trim()&&a("test fail")}),x.appendChild(m),x.appendChild(L),t&&t.size(40),e.on("suite",function(e){if(!e.root){var t=r.suiteURL(e),i=o('<li class="suite"><h1><a href="%s">%s</a></h1></li>',t,f(e.title));w[0].appendChild(i),w.unshift(document.createElement("ul")),i.appendChild(w[0])}}),e.on("suite end",function(e){e.root||w.shift()}),e.on("fail",function(t,i){"hook"==t.type&&e.emit("test end",t)}),void e.on("test end",function(e){var s=n.tests/this.total*100|0;t&&t.update(s).draw(i);var a=new g-n.start;if(c(_,n.passes),c(k,n.failures),c(S,(a/1e3).toFixed(2)),"passed"==e.state)var l=r.testURL(e),h=o('<li class="test pass %e"><h2>%e<span class="duration">%ems</span> <a href="%s" class="replay">â€£</a></h2></li>',e.speed,e.title,e.duration,l);else if(e.pending)var h=o('<li class="test pass pending"><h2>%e</h2></li>',e.title);else{var h=o('<li class="test fail"><h2>%e <a href="%e" class="replay">â€£</a></h2></li>',e.title,r.testURL(e)),p=e.err.stack||e.err.toString();~p.indexOf(e.err.message)||(p=e.err.message+"\n"+p),"[object Error]"==p&&(p=e.err.message),!e.err.stack&&e.err.sourceURL&&void 0!==e.err.line&&(p+="\n("+e.err.sourceURL+":"+e.err.line+")"),h.appendChild(o('<pre class="error">%e</pre>',p))}if(!e.pending){var f=h.getElementsByTagName("h2")[0];u(f,"click",function(){v.style.display="none"==v.style.display?"block":"none"});var v=o("<pre><code>%e</code></pre>",d.clean(e.fn.toString()));h.appendChild(v),v.style.display="none"}w[0]&&w[0].appendChild(h)})):s("#mocha div missing, add it to your document")}function s(e){document.body.appendChild(o('<div id="mocha-error">%s</div>',e))}function o(e){var t=arguments,i=document.createElement("div"),r=1;return i.innerHTML=e.replace(/%([se])/g,function(e,i){switch(i){case"s":return String(t[r++]);case"e":return f(t[r++])}}),i.firstChild}function a(e){for(var t=document.getElementsByClassName("suite"),i=0;i<t.length;i++){var r=t[i].getElementsByClassName(e);0==r.length&&(t[i].className+=" hidden")}}function l(){for(var e=document.getElementsByClassName("suite hidden"),t=0;t<e.length;++t)e[t].className=e[t].className.replace("suite hidden","suite")}function c(e,t){e.textContent?e.textContent=t:e.innerText=t}function u(e,t,i){e.addEventListener?e.addEventListener(t,i,!1):e.attachEvent("on"+t,i)}var h=r("./base"),d=r("../utils"),p=r("../browser/progress"),f=d.escape,g=i.Date;i.setTimeout,i.setInterval,i.clearTimeout,i.clearInterval;t=e.exports=n;var v='<ul id="mocha-stats"><li class="progress"><canvas width="40" height="40"></canvas></li><li class="passes"><a href="#">passes:</a> <em>0</em></li><li class="failures"><a href="#">failures:</a> <em>0</em></li><li class="duration">duration: <em>0</em>s</li></ul>',m=function(e){var t=window.location.search;return t&&(t=t.replace(/[?&]grep=[^&\s]*/g,"").replace(/^&/,"?")),window.location.pathname+(t?t+"&":"?")+"grep="+encodeURIComponent(e)};n.prototype.suiteURL=function(e){return m(e.fullTitle())},n.prototype.testURL=function(e){return m(e.fullTitle())}}),e.register("reporters/index.js",function(e,t,i){t.Base=i("./base"),t.Dot=i("./dot"),t.Doc=i("./doc"),t.TAP=i("./tap"),t.JSON=i("./json"),t.HTML=i("./html"),t.List=i("./list"),t.Min=i("./min"),t.Spec=i("./spec"),t.Nyan=i("./nyan"),t.XUnit=i("./xunit"),t.Markdown=i("./markdown"),t.Progress=i("./progress"),t.Landing=i("./landing"),t.JSONCov=i("./json-cov"),t.HTMLCov=i("./html-cov"),t.JSONStream=i("./json-stream")}),e.register("reporters/json-cov.js",function(e,t,r){function n(e,t){var r=this,t=1==arguments.length||t;c.call(this,e);var n=[],a=[],u=[];e.on("test end",function(e){n.push(e)}),e.on("pass",function(e){u.push(e)}),e.on("fail",function(e){a.push(e)}),e.on("end",function(){var e=i._$jscoverage||{},c=r.cov=o(e);c.stats=r.stats,c.tests=n.map(l),c.failures=a.map(l),c.passes=u.map(l),t&&s.stdout.write(JSON.stringify(c,null,2))})}function o(e){var t={instrumentation:"node-jscoverage",sloc:0,hits:0,misses:0,coverage:0,files:[]};for(var i in e){var r=a(i,e[i]);t.files.push(r),t.hits+=r.hits,t.misses+=r.misses,t.sloc+=r.sloc}return t.files.sort(function(e,t){return e.filename.localeCompare(t.filename)}),t.sloc>0&&(t.coverage=t.hits/t.sloc*100),t}function a(e,t){var i={filename:e,coverage:0,hits:0,misses:0,sloc:0,source:{}};return t.source.forEach(function(e,r){r++,0===t[r]?(i.misses++,i.sloc++):void 0!==t[r]&&(i.hits++,i.sloc++),i.source[r]={source:e,coverage:void 0===t[r]?"":t[r]}}),i.coverage=i.hits/i.sloc*100,i}function l(e){return{title:e.title,fullTitle:e.fullTitle(),duration:e.duration}}var c=r("./base");t=e.exports=n}),e.register("reporters/json-stream.js",function(e,t,i){function r(e){o.call(this,e);var t=this,i=(this.stats,e.total);e.on("start",function(){console.log(JSON.stringify(["start",{total:i}]))}),e.on("pass",function(e){console.log(JSON.stringify(["pass",n(e)]))}),e.on("fail",function(e,t){e=n(e),e.err=t.message,console.log(JSON.stringify(["fail",e]))}),e.on("end",function(){s.stdout.write(JSON.stringify(["end",t.stats]))})}function n(e){return{title:e.title,fullTitle:e.fullTitle(),duration:e.duration}}var o=i("./base");o.color;t=e.exports=r}),e.register("reporters/json.js",function(e,t,i){function r(e){var t=this;a.call(this,e);var i=[],r=[],o=[],l=[];e.on("test end",function(e){i.push(e)}),e.on("pass",function(e){l.push(e)}),e.on("fail",function(e){o.push(e)}),e.on("pending",function(e){r.push(e)}),e.on("end",function(){var a={stats:t.stats,tests:i.map(n),pending:r.map(n),failures:o.map(n),passes:l.map(n)};e.testResults=a,s.stdout.write(JSON.stringify(a,null,2))})}function n(e){return{title:e.title,fullTitle:e.fullTitle(),duration:e.duration,err:o(e.err||{})}}function o(e){var t={};return Object.getOwnPropertyNames(e).forEach(function(i){t[i]=e[i]},e),t}var a=i("./base");a.cursor,a.color;t=e.exports=r}),e.register("reporters/landing.js",function(e,t,i){function r(e){function t(){var e=Array(r).join("-");return"  "+l("runway",e)}o.call(this,e);var i=this,r=(this.stats,.75*o.window.width|0),n=e.total,c=s.stdout,u=l("plane","âœˆ"),h=-1,d=0;e.on("start",function(){c.write("\n\n\n  "),a.hide()}),e.on("test end",function(e){var i=-1==h?r*++d/n|0:h;"failed"==e.state&&(u=l("plane crash","âœˆ"),h=i),c.write("["+(r+1)+"D[2A"),c.write(t()),c.write("\n  "),c.write(l("runway",Array(i).join("â‹…"))),c.write(u),c.write(l("runway",Array(r-i).join("â‹…")+"\n")),c.write(t()),c.write("[0m")}),e.on("end",function(){a.show(),console.log(),i.epilogue()})}function n(){}var o=i("./base"),a=o.cursor,l=o.color;t=e.exports=r,o.colors.plane=0,o.colors["plane crash"]=31,o.colors.runway=90,n.prototype=o.prototype,r.prototype=new n,r.prototype.constructor=r}),e.register("reporters/list.js",function(e,t,i){function r(e){o.call(this,e);var t=this,i=(this.stats,0);e.on("start",function(){console.log()}),e.on("test",function(e){s.stdout.write(l("pass","    "+e.fullTitle()+": "))}),e.on("pending",function(e){var t=l("checkmark","  -")+l("pending"," %s");
console.log(t,e.fullTitle())}),e.on("pass",function(e){var t=l("checkmark","  "+o.symbols.dot)+l("pass"," %s: ")+l(e.speed,"%dms");a.CR(),console.log(t,e.fullTitle(),e.duration)}),e.on("fail",function(e,t){a.CR(),console.log(l("fail","  %d) %s"),++i,e.fullTitle())}),e.on("end",t.epilogue.bind(t))}function n(){}var o=i("./base"),a=o.cursor,l=o.color;t=e.exports=r,n.prototype=o.prototype,r.prototype=new n,r.prototype.constructor=r}),e.register("reporters/markdown.js",function(e,t,i){function r(e){function t(e){return Array(c).join("#")+" "+e}function i(e,t){var r=t,n=a+e.title;return t=t[n]=t[n]||{suite:e},e.suites.forEach(function(e){i(e,t)}),r}function r(e,t){++t;var i,n="";for(var s in e)"suite"!=s&&(s!==a&&(i=" - ["+s.substring(1)+"]",i+="(#"+o.slug(e[s].suite.fullTitle())+")\n",n+=Array(t).join("  ")+i),n+=r(e[s],t));return n}function l(e){var t=i(e,{});return r(t,0)}n.call(this,e);var c=(this.stats,0),u="";l(e.suite),e.on("suite",function(e){++c;var i=o.slug(e.fullTitle());u+='<a name="'+i+'"></a>\n',u+=t(e.title)+"\n"}),e.on("suite end",function(e){--c}),e.on("pass",function(e){var t=o.clean(e.fn.toString());u+=e.title+".\n",u+="\n```js\n",u+=t+"\n",u+="```\n\n"}),e.on("end",function(){s.stdout.write("# TOC\n"),s.stdout.write(l(e.suite)),s.stdout.write(u)})}var n=i("./base"),o=i("../utils"),a="$";t=e.exports=r}),e.register("reporters/min.js",function(e,t,i){function r(e){o.call(this,e),e.on("start",function(){s.stdout.write("[2J"),s.stdout.write("[1;3H")}),e.on("end",this.epilogue.bind(this))}function n(){}var o=i("./base");t=e.exports=r,n.prototype=o.prototype,r.prototype=new n,r.prototype.constructor=r}),e.register("reporters/nyan.js",function(e,t,i){function r(e){a.call(this,e);var t=this,i=(this.stats,.75*a.window.width|0),r=(this.rainbowColors=t.generateColors(),this.colorIndex=0,this.numberOfLines=4,this.trajectories=[[],[],[],[]],this.nyanCatWidth=11);this.trajectoryWidthMax=i-r,this.scoreboardWidth=5,this.tick=0;e.on("start",function(){a.cursor.hide(),t.draw()}),e.on("pending",function(e){t.draw()}),e.on("pass",function(e){t.draw()}),e.on("fail",function(e,i){t.draw()}),e.on("end",function(){a.cursor.show();for(var e=0;e<t.numberOfLines;e++)n("\n");t.epilogue()})}function n(e){s.stdout.write(e)}function o(){}var a=i("./base");t=e.exports=r,r.prototype.draw=function(){this.appendRainbow(),this.drawScoreboard(),this.drawRainbow(),this.drawNyanCat(),this.tick=!this.tick},r.prototype.drawScoreboard=function(){function e(e,t){n(" "),n(a.color(e,t)),n("\n")}var t=this.stats;e("green",t.passes),e("fail",t.failures),e("pending",t.pending),n("\n"),this.cursorUp(this.numberOfLines)},r.prototype.appendRainbow=function(){for(var e=this.tick?"_":"-",t=this.rainbowify(e),i=0;i<this.numberOfLines;i++){var r=this.trajectories[i];r.length>=this.trajectoryWidthMax&&r.shift(),r.push(t)}},r.prototype.drawRainbow=function(){var e=this;this.trajectories.forEach(function(t,i){n("["+e.scoreboardWidth+"C"),n(t.join("")),n("\n")}),this.cursorUp(this.numberOfLines)},r.prototype.drawNyanCat=function(){var e=this,t=this.scoreboardWidth+this.trajectories[0].length,i="["+t+"C",r="";n(i),n("_,------,"),n("\n"),n(i),r=e.tick?"  ":"   ",n("_|"+r+"/\\_/\\ "),n("\n"),n(i),r=e.tick?"_":"__";var s=e.tick?"~":"^";n(s+"|"+r+this.face()+" "),n("\n"),n(i),r=e.tick?" ":"  ",n(r+'""  "" '),n("\n"),this.cursorUp(this.numberOfLines)},r.prototype.face=function(){var e=this.stats;return e.failures?"( x .x)":e.pending?"( o .o)":e.passes?"( ^ .^)":"( - .-)"},r.prototype.cursorUp=function(e){n("["+e+"A")},r.prototype.cursorDown=function(e){n("["+e+"B")},r.prototype.generateColors=function(){for(var e=[],t=0;t<42;t++){var i=Math.floor(Math.PI/3),r=t*(1/6),n=Math.floor(3*Math.sin(r)+3),s=Math.floor(3*Math.sin(r+2*i)+3),o=Math.floor(3*Math.sin(r+4*i)+3);e.push(36*n+6*s+o+16)}return e},r.prototype.rainbowify=function(e){if(!a.useColors)return e;var t=this.rainbowColors[this.colorIndex%this.rainbowColors.length];return this.colorIndex+=1,"[38;5;"+t+"m"+e+"[0m"},o.prototype=a.prototype,r.prototype=new o,r.prototype.constructor=r}),e.register("reporters/progress.js",function(e,t,i){function r(e,t){o.call(this,e);var i=this,t=t||{},r=(this.stats,.5*o.window.width|0),n=e.total,c=0,u=(Math.max,-1);t.open=t.open||"[",t.complete=t.complete||"â–¬",t.incomplete=t.incomplete||o.symbols.dot,t.close=t.close||"]",t.verbose=!1,e.on("start",function(){console.log(),a.hide()}),e.on("test end",function(){c++;var e=c/n,i=r*e|0,o=r-i;(u!==i||t.verbose)&&(u=i,a.CR(),s.stdout.write("[J"),s.stdout.write(l("progress","  "+t.open)),s.stdout.write(Array(i).join(t.complete)),s.stdout.write(Array(o).join(t.incomplete)),s.stdout.write(l("progress",t.close)),t.verbose&&s.stdout.write(l("progress"," "+c+" of "+n)))}),e.on("end",function(){a.show(),console.log(),i.epilogue()})}function n(){}var o=i("./base"),a=o.cursor,l=o.color;t=e.exports=r,o.colors.progress=90,n.prototype=o.prototype,r.prototype=new n,r.prototype.constructor=r}),e.register("reporters/spec.js",function(e,t,i){function r(e){function t(){return Array(r).join("  ")}s.call(this,e);var i=this,r=(this.stats,0),n=0;e.on("start",function(){console.log()}),e.on("suite",function(e){++r,console.log(a("suite","%s%s"),t(),e.title)}),e.on("suite end",function(e){--r,1==r&&console.log()}),e.on("pending",function(e){var i=t()+a("pending","  - %s");console.log(i,e.title)}),e.on("pass",function(e){if("fast"==e.speed){var i=t()+a("checkmark","  "+s.symbols.ok)+a("pass"," %s");o.CR(),console.log(i,e.title)}else{var i=t()+a("checkmark","  "+s.symbols.ok)+a("pass"," %s")+a(e.speed," (%dms)");o.CR(),console.log(i,e.title,e.duration)}}),e.on("fail",function(e,i){o.CR(),console.log(t()+a("fail","  %d) %s"),++n,e.title)}),e.on("end",i.epilogue.bind(i))}function n(){}var s=i("./base"),o=s.cursor,a=s.color;t=e.exports=r,n.prototype=s.prototype,r.prototype=new n,r.prototype.constructor=r}),e.register("reporters/tap.js",function(e,t,i){function r(e){s.call(this,e);var t=(this.stats,1),i=0,r=0;e.on("start",function(){var t=e.grepTotal(e.suite);console.log("%d..%d",1,t)}),e.on("test end",function(){++t}),e.on("pending",function(e){console.log("ok %d %s # SKIP -",t,n(e))}),e.on("pass",function(e){i++,console.log("ok %d %s",t,n(e))}),e.on("fail",function(e,i){r++,console.log("not ok %d %s",t,n(e)),i.stack&&console.log(i.stack.replace(/^/gm,"  "))}),e.on("end",function(){console.log("# tests "+(i+r)),console.log("# pass "+i),console.log("# fail "+r)})}function n(e){return e.fullTitle().replace(/#/g,"")}var s=i("./base");s.cursor,s.color;t=e.exports=r}),e.register("reporters/xunit.js",function(e,t,r){function n(e,t){l.call(this,e);var i=this.stats,r=[],n=this;if(t.reporterOptions&&t.reporterOptions.output){if(!u.createWriteStream)throw new Error("file output not supported in browser");n.fileStream=u.createWriteStream(t.reporterOptions.output)}e.on("pending",function(e){r.push(e)}),e.on("pass",function(e){r.push(e)}),e.on("fail",function(e){r.push(e)}),e.on("end",function(){n.write(o("testsuite",{name:"Mocha Tests",tests:i.tests,failures:i.failures,errors:i.failures,skipped:i.tests-i.failures-i.passes,timestamp:(new d).toUTCString(),time:i.duration/1e3||0},!1)),r.forEach(function(e){n.test(e)}),n.write("</testsuite>")})}function s(){}function o(e,t,i,r){var n,s=i?"/>":">",o=[];for(var a in t)o.push(a+'="'+h(t[a])+'"');return n="<"+e+(o.length?" "+o.join(" "):"")+s,r&&(n+=r+"</"+e+s),n}function a(e){return"<![CDATA["+h(e)+"]]>"}var l=r("./base"),c=r("../utils"),u=r("browser/fs"),h=c.escape,d=i.Date;i.setTimeout,i.setInterval,i.clearTimeout,i.clearInterval;t=e.exports=n,n.prototype.done=function(e,t){this.fileStream?this.fileStream.end(function(){t(e)}):t(e)},s.prototype=l.prototype,n.prototype=new s,n.prototype.constructor=n,n.prototype.write=function(e){this.fileStream?this.fileStream.write(e+"\n"):console.log(e)},n.prototype.test=function(e,t){var i={classname:e.parent.fullTitle(),name:e.title,time:e.duration/1e3||0};if("failed"==e.state){var r=e.err;this.write(o("testcase",i,!1,o("failure",{},!1,a(h(r.message)+"\n"+r.stack))))}else e.pending?this.write(o("testcase",i,!1,o("skipped",{},!0))):this.write(o("testcase",i,!0))}}),e.register("runnable.js",function(e,t,r){function n(e,t){this.title=e,this.fn=t,this.async=t&&t.length,this.sync=!this.async,this._timeout=2e3,this._slow=75,this._enableTimeouts=!0,this.timedOut=!1,this._trace=new Error("done() called multiple times")}function s(){}var o=r("browser/events").EventEmitter,a=r("browser/debug")("mocha:runnable"),l=r("./pending"),c=r("./ms"),u=r("./utils"),h=i.Date,d=i.setTimeout,p=(i.setInterval,i.clearTimeout),f=(i.clearInterval,Object.prototype.toString);e.exports=n,s.prototype=o.prototype,n.prototype=new s,n.prototype.constructor=n,n.prototype.timeout=function(e){return 0==arguments.length?this._timeout:(0===e&&(this._enableTimeouts=!1),"string"==typeof e&&(e=c(e)),a("timeout %d",e),this._timeout=e,this.timer&&this.resetTimeout(),this)},n.prototype.slow=function(e){return 0===arguments.length?this._slow:("string"==typeof e&&(e=c(e)),a("timeout %d",e),this._slow=e,this)},n.prototype.enableTimeouts=function(e){return 0===arguments.length?this._enableTimeouts:(a("enableTimeouts %s",e),this._enableTimeouts=e,this)},n.prototype.skip=function(){throw new l},n.prototype.fullTitle=function(){return this.parent.fullTitle()+" "+this.title},n.prototype.clearTimeout=function(){p(this.timer)},n.prototype.inspect=function(){return JSON.stringify(this,function(e,t){if("_"!=e[0])return"parent"==e?"#<Suite>":"ctx"==e?"#<Context>":t},2)},n.prototype.resetTimeout=function(){var e=this,t=this.timeout()||1e9;this._enableTimeouts&&(this.clearTimeout(),this.timer=d(function(){e._enableTimeouts&&(e.callback(new Error("timeout of "+t+"ms exceeded. Ensure the done() callback is being called in this test.")),e.timedOut=!0)},t))},n.prototype.globals=function(e){this._allowedGlobals=e},n.prototype.run=function(e){function t(e){s||(s=!0,o.emit("error",e||new Error("done() called multiple times; stacktrace may be inaccurate")))}function i(i){var r=o.timeout();if(!o.timedOut)return n?t(i||o._trace):void(o.state||(o.clearTimeout(),o.duration=new h-a,n=!0,!i&&o.duration>r&&o._enableTimeouts&&(i=new Error("timeout of "+r+"ms exceeded. Ensure the done() callback is being called in this test.")),e(i)))}function r(e){var t=e.call(l);t&&"function"==typeof t.then?(o.resetTimeout(),t.then(function(){i()},function(e){i(e||new Error("Promise rejected with no or falsy reason"))})):i()}var n,s,o=this,a=new h,l=this.ctx;if(l&&l.runnable&&l.runnable(this),this.callback=i,this.async){this.resetTimeout();try{this.fn.call(l,function(e){return e instanceof Error||"[object Error]"===f.call(e)?i(e):null!=e?i("[object Object]"===Object.prototype.toString.call(e)?new Error("done() invoked with non-Error: "+JSON.stringify(e)):new Error("done() invoked with non-Error: "+e)):void i()})}catch(c){i(u.getError(c))}}else{if(this.asyncOnly)return i(new Error("--async-only option in use without declaring `done()`"));try{this.pending?i():r(this.fn)}catch(c){i(u.getError(c))}}}}),e.register("runner.js",function(e,t,r){function n(e,t){var i=this;this._globals=[],this._abort=!1,this._delay=t,this.suite=e,this.total=e.total(),this.failures=0,this.on("test end",function(e){i.checkGlobals(e)}),this.on("hook end",function(e){i.checkGlobals(e)}),this.grep(/.*/),this.globals(this.globalProps().concat(l()))}function o(){}function a(e,t){return p(t,function(t){if(/^d+/.test(t))return!1;if(i.navigator&&/^getInterface/.test(t))return!1;if(i.navigator&&/^\d+/.test(t))return!1;if(/^mocha-/.test(t))return!1;var r=p(e,function(e){return~e.indexOf("*")?0==t.indexOf(e.split("*")[0]):t==e});return 0==r.length&&(!i.navigator||"onerror"!==t)})}function l(){if("object"==typeof s&&"string"==typeof s.version){var e=s.version.split(".").reduce(function(e,t){return e<<8|t});if(e<2315)return["errno"]}return[]}var c=r("browser/events").EventEmitter,u=r("browser/debug")("mocha:runner"),h=r("./pending"),d=(r("./test"),r("./utils")),p=d.filter,f=(d.keys,d.type),g=d.stringify,v=d.stackTraceFilter(),m=["setTimeout","clearTimeout","setInterval","clearInterval","XMLHttpRequest","Date","setImmediate","clearImmediate"];e.exports=n,n.immediately=i.setImmediate||s.nextTick,o.prototype=c.prototype,n.prototype=new o,n.prototype.constructor=n,n.prototype.grep=function(e,t){return u("grep %s",e),this._grep=e,this._invert=t,this.total=this.grepTotal(this.suite),this},n.prototype.grepTotal=function(e){var t=this,i=0;return e.eachTest(function(e){var r=t._grep.test(e.fullTitle());t._invert&&(r=!r),r&&i++}),i},n.prototype.globalProps=function(){for(var e=d.keys(i),t=0;t<m.length;++t)~d.indexOf(e,m[t])||e.push(m[t]);return e},n.prototype.globals=function(e){return 0==arguments.length?this._globals:(u("globals %j",e),this._globals=this._globals.concat(e),this)},n.prototype.checkGlobals=function(e){if(!this.ignoreLeaks){var t,i=this._globals,r=this.globalProps();e&&(i=i.concat(e._allowedGlobals||[])),this.prevGlobalsLength!=r.length&&(this.prevGlobalsLength=r.length,t=a(i,r),this._globals=this._globals.concat(t),t.length>1?this.fail(e,new Error("global leaks detected: "+t.join(", "))):t.length&&this.fail(e,new Error("global leak detected: "+t[0])))}},n.prototype.fail=function(e,t){++this.failures,e.state="failed",t instanceof Error||(t=new Error("the "+f(t)+" "+g(t)+" was thrown, throw an Error :)")),t.stack=this.fullStackTrace||!t.stack?t.stack:v(t.stack),this.emit("fail",e,t)},n.prototype.failHook=function(e,t){this.fail(e,t),this.suite.bail()&&this.emit("end")},n.prototype.hook=function(e,t){function i(e){var n=s[e];return n?(o.currentRunnable=n,n.ctx.currentTest=o.test,o.emit("hook",n),n.on("error",function(e){o.failHook(n,e)}),void n.run(function(s){n.removeAllListeners("error");var a=n.error();if(a&&o.fail(o.test,a),s){if(!(s instanceof h))return o.failHook(n,s),t(s);r.pending=!0}o.emit("hook end",n),delete n.ctx.currentTest,i(++e)})):t()}var r=this.suite,s=r["_"+e],o=this;n.immediately(function(){i(0)})},n.prototype.hooks=function(e,t,i){function r(o){return n.suite=o,o?void n.hook(e,function(e){if(e){var o=n.suite;return n.suite=s,i(e,o)}r(t.pop())}):(n.suite=s,i())}var n=this,s=this.suite;r(t.pop())},n.prototype.hookUp=function(e,t){var i=[this.suite].concat(this.parents()).reverse();this.hooks(e,i,t)},n.prototype.hookDown=function(e,t){var i=[this.suite].concat(this.parents());this.hooks(e,i,t)},n.prototype.parents=function(){for(var e=this.suite,t=[];e=e.parent;)t.push(e);return t},n.prototype.runTest=function(e){var t=this.test,i=this;this.asyncOnly&&(t.asyncOnly=!0);try{t.on("error",function(e){i.fail(t,e)}),t.run(e)}catch(r){e(r)}},n.prototype.runTests=function(e,t){function i(e,r,n){var o=s.suite;s.suite=n?r.parent:r,s.suite?s.hookUp("afterEach",function(e,n){return s.suite=o,e?i(e,n,!0):void t(r)}):(s.suite=o,t(r))}function r(a,l){if(s.failures&&e._bail)return t();if(s._abort)return t();if(a)return i(a,l,!0);if(n=o.shift(),!n)return t();var c=s._grep.test(n.fullTitle());return s._invert&&(c=!c),c?n.pending?(s.emit("pending",n),s.emit("test end",n),r()):(s.emit("test",s.test=n),void s.hookDown("beforeEach",function(t,o){return e.pending?(s.emit("pending",n),s.emit("test end",n),r()):t?i(t,o,!1):(s.currentRunnable=s.test,void s.runTest(function(e){return n=s.test,e?(e instanceof h?s.emit("pending",n):s.fail(n,e),s.emit("test end",n),e instanceof h?r():s.hookUp("afterEach",r)):(n.state="passed",s.emit("pass",n),s.emit("test end",n),void s.hookUp("afterEach",r))}))})):r()}var n,s=this,o=e.tests.slice();this.next=r,r()},n.prototype.runSuite=function(e,t){function i(t){if(t)return t==e?r():r(t);if(s._abort)return r();var n=e.suites[o++];return n?void s.runSuite(n,i):r()}function r(i){s.suite=e,s.hook("afterAll",function(){s.emit("suite end",e),t(i)})}var n=this.grepTotal(e),s=this,o=0;return u("run suite %s",e.fullTitle()),n?(this.emit("suite",this.suite=e),void this.hook("beforeAll",function(t){return t?r():void s.runTests(e,i)})):t()},n.prototype.uncaught=function(e){e?u("uncaught exception %s",e!==function(){return this}.call(e)?e:e.message||e):(u("uncaught undefined exception"),e=d.undefinedError()),e.uncaught=!0;var t=this.currentRunnable;if(t&&(t.clearTimeout(),!t.state))return this.fail(t,e),"test"==t.type?(this.emit("test end",t),void this.hookUp("afterEach",this.next)):void this.emit("end")},n.prototype.run=function(e){function t(e){r.uncaught(e)}function i(){r.emit("start"),r.runSuite(n,function(){u("finished running"),r.emit("end")})}var r=this,n=this.suite;return e=e||function(){},u("start"),this.on("end",function(){u("end"),s.removeListener("uncaughtException",t),e(r.failures)}),s.on("uncaughtException",t),this._delay?(this.emit("waiting",n),n.once("run",i)):i(),this},n.prototype.abort=function(){u("aborting"),this._abort=!0}}),e.register("suite.js",function(e,t,i){function r(e,t){this.title=e;var i=function(){};i.prototype=t,this.ctx=new i,this.suites=[],this.tests=[],this.pending=!1,this._beforeEach=[],this._beforeAll=[],this._afterEach=[],this._afterAll=[],this.root=!e,this._timeout=2e3,this._enableTimeouts=!0,this._slow=75,this._bail=!1,this.delayed=!1}function n(){}var s=i("browser/events").EventEmitter,o=i("browser/debug")("mocha:suite"),a=i("./ms"),l=i("./utils"),c=i("./hook");t=e.exports=r,t.create=function(e,t){var i=new r(t,e.ctx);return i.parent=e,e.pending&&(i.pending=!0),t=i.fullTitle(),e.addSuite(i),i},n.prototype=s.prototype,r.prototype=new n,r.prototype.constructor=r,r.prototype.clone=function(){var e=new r(this.title);return o("clone"),e.ctx=this.ctx,e.timeout(this.timeout()),e.enableTimeouts(this.enableTimeouts()),e.slow(this.slow()),e.bail(this.bail()),e},r.prototype.timeout=function(e){return 0==arguments.length?this._timeout:("0"===e.toString()&&(this._enableTimeouts=!1),"string"==typeof e&&(e=a(e)),o("timeout %d",e),this._timeout=parseInt(e,10),this)},r.prototype.enableTimeouts=function(e){return 0===arguments.length?this._enableTimeouts:(o("enableTimeouts %s",e),this._enableTimeouts=e,this)},r.prototype.slow=function(e){return 0===arguments.length?this._slow:("string"==typeof e&&(e=a(e)),o("slow %d",e),this._slow=e,this)},r.prototype.bail=function(e){return 0==arguments.length?this._bail:(o("bail %s",e),this._bail=e,this)},r.prototype.beforeAll=function(e,t){if(this.pending)return this;"function"==typeof e&&(t=e,e=t.name),e='"before all" hook'+(e?": "+e:"");var i=new c(e,t);return i.parent=this,i.timeout(this.timeout()),i.enableTimeouts(this.enableTimeouts()),i.slow(this.slow()),i.ctx=this.ctx,this._beforeAll.push(i),this.emit("beforeAll",i),this},r.prototype.afterAll=function(e,t){if(this.pending)return this;"function"==typeof e&&(t=e,e=t.name),e='"after all" hook'+(e?": "+e:"");var i=new c(e,t);return i.parent=this,i.timeout(this.timeout()),i.enableTimeouts(this.enableTimeouts()),i.slow(this.slow()),i.ctx=this.ctx,this._afterAll.push(i),this.emit("afterAll",i),this},r.prototype.beforeEach=function(e,t){if(this.pending)return this;"function"==typeof e&&(t=e,e=t.name),e='"before each" hook'+(e?": "+e:"");var i=new c(e,t);return i.parent=this,i.timeout(this.timeout()),i.enableTimeouts(this.enableTimeouts()),i.slow(this.slow()),i.ctx=this.ctx,this._beforeEach.push(i),this.emit("beforeEach",i),this},r.prototype.afterEach=function(e,t){if(this.pending)return this;"function"==typeof e&&(t=e,e=t.name),e='"after each" hook'+(e?": "+e:"");var i=new c(e,t);return i.parent=this,i.timeout(this.timeout()),i.enableTimeouts(this.enableTimeouts()),i.slow(this.slow()),i.ctx=this.ctx,this._afterEach.push(i),this.emit("afterEach",i),this},r.prototype.addSuite=function(e){return e.parent=this,e.timeout(this.timeout()),e.enableTimeouts(this.enableTimeouts()),e.slow(this.slow()),e.bail(this.bail()),this.suites.push(e),this.emit("suite",e),this},r.prototype.addTest=function(e){return e.parent=this,e.timeout(this.timeout()),e.enableTimeouts(this.enableTimeouts()),e.slow(this.slow()),e.ctx=this.ctx,this.tests.push(e),this.emit("test",e),this},r.prototype.fullTitle=function(){if(this.parent){var e=this.parent.fullTitle();if(e)return e+" "+this.title}return this.title},r.prototype.total=function(){return l.reduce(this.suites,function(e,t){return e+t.total()},0)+this.tests.length},r.prototype.eachTest=function(e){return l.forEach(this.tests,e),l.forEach(this.suites,function(t){t.eachTest(e)}),this},r.prototype.run=function(){this.root&&this.emit("run")}}),e.register("test.js",function(e,t,i){function r(e,t){s.call(this,e,t),this.pending=!t,this.type="test"}function n(){}var s=i("./runnable");e.exports=r,n.prototype=s.prototype,r.prototype=new n,r.prototype.constructor=r}),e.register("utils.js",function(e,t,i){function r(e){return!~f.indexOf(e)}function n(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\/\/(.*)/gm,'<span class="comment">//$1</span>').replace(/('.*?')/gm,'<span class="string">$1</span>').replace(/(\d+\.\d+)/gm,'<span class="number">$1</span>').replace(/(\d+)/gm,'<span class="number">$1</span>').replace(/\bnew[ \t]+(\w+)/gm,'<span class="keyword">new</span> <span class="init">$1</span>').replace(/\b(function|new|throw|return|var|if|else)\b/gm,'<span class="keyword">$1</span>')}function o(e,i,r){function n(e){switch(t.type(e)){case"null":case"undefined":e="["+e+"]";break;case"array":case"object":e=o(e,i,r+1);break;case"boolean":case"regexp":case"number":e=0===e&&1/e===-(1/0)?"-0":e.toString();break;case"date":e="[Date: "+e.toISOString()+"]";break;case"buffer":var n=e.toJSON();n=n.data&&n.type?n.data:n,e="[Buffer: "+o(n,2,r+1)+"]";break;default:e="[Function]"==e||"[Circular]"==e?e:'"'+e+'"'}return e}if("undefined"==typeof i)return n(e);r=r||1;var s=i*r,a=g(e)?"[":"{",l=g(e)?"]":"}",c=e.length||t.keys(e).length,u=function(e,t){return new Array(t).join(e)};for(var h in e)e.hasOwnProperty(h)&&(--c,a+="\n "+u(" ",s)+(g(e)?"":'"'+h+'": ')+n(e[h])+(c?",":""));return a+(1!=a.length?"\n"+u(" ",--s)+l:l)}var a=i("browser/fs"),l=i("browser/path"),c=l.basename,u=a.existsSync||l.existsSync,h=i("browser/glob"),d=l.join,p=i("browser/debug")("mocha:watch"),f=["node_modules",".git"];t.escape=function(e){return String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},t.forEach=function(e,t,i){for(var r=0,n=e.length;r<n;r++)t.call(i,e[r],r)},t.map=function(e,t,i){for(var r=[],n=0,s=e.length;n<s;n++)r.push(t.call(i,e[n],n,e));return r},t.indexOf=function(e,t,i){for(var r=i||0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1},t.reduce=function(e,t,i){for(var r=i,n=0,s=e.length;n<s;n++)r=t(r,e[n],n,e);return r},t.filter=function(e,t){for(var i=[],r=0,n=e.length;r<n;r++){var s=e[r];t(s,r,e)&&i.push(s)}return i},t.keys=Object.keys||function(e){var t=[],i=Object.prototype.hasOwnProperty;for(var r in e)i.call(e,r)&&t.push(r);return t},t.watch=function(e,t){var i={interval:100};e.forEach(function(e){p("file %s",e),a.watchFile(e,i,function(i,r){r.mtime<i.mtime&&t(e)})})};var g=Array.isArray||function(e){return"[object Array]"=={}.toString.call(e)};"undefined"!=typeof Buffer&&Buffer.prototype&&(Buffer.prototype.toJSON=Buffer.prototype.toJSON||function(){return Array.prototype.slice.call(this,0)}),t.files=function(e,i,n){n=n||[],i=i||["js"];var s=new RegExp("\\.("+i.join("|")+")$");return a.readdirSync(e).filter(r).forEach(function(r){r=d(e,r),a.statSync(r).isDirectory()?t.files(r,i,n):r.match(s)&&n.push(r)}),n},t.slug=function(e){return e.toLowerCase().replace(/ +/g,"-").replace(/[^-\w]/g,"")},t.clean=function(e){e=e.replace(/\r\n?|[\n\u2028\u2029]/g,"\n").replace(/^\uFEFF/,"").replace(/^function *\(.*\)\s*{|\(.*\) *=> *{?/,"").replace(/\s+\}$/,"");var i=e.match(/^\n?( *)/)[1].length,r=e.match(/^\n?(\t*)/)[1].length,n=new RegExp("^\n?"+(r?"\t":" ")+"{"+(r?r:i)+"}","gm");return e=e.replace(n,""),t.trim(e)},t.trim=function(e){return e.replace(/^\s+|\s+$/g,"")},t.parseQuery=function(e){return t.reduce(e.replace("?","").split("&"),function(e,t){var i=t.indexOf("="),r=t.slice(0,i),n=t.slice(++i);return e[r]=decodeURIComponent(n),e},{})},t.highlightTags=function(e){for(var t=document.getElementById("mocha").getElementsByTagName(e),i=0,r=t.length;i<r;++i)t[i].innerHTML=n(t[i].innerHTML)};var v=function(e,i){switch(i=i||t.type(e)){case"function":return"[Function]";case"object":return"{}";case"array":return"[]";default:return e.toString()}};t.type=function(e){return"undefined"!=typeof Buffer&&Buffer.isBuffer(e)?"buffer":Object.prototype.toString.call(e).replace(/^\[.+\s(.+?)\]$/,"$1").toLowerCase()},t.stringify=function(e){var i=t.type(e);if(!~t.indexOf(["object","array","function"],i)){if("buffer"!=i)return o(e);var r=e.toJSON();return o(r.data&&r.type?r.data:r,2).replace(/,(\n|$)/g,"$1")}for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n))return o(t.canonicalize(e),2).replace(/,(\n|$)/g,"$1");return v(e,i)},t.isBuffer=function(e){return"undefined"!=typeof Buffer&&Buffer.isBuffer(e)},t.canonicalize=function(e,i){var r,n,s=t.type(e),o=function(e,t){i.push(e),t(),i.pop()};if(i=i||[],t.indexOf(i,e)!==-1)return"[Circular]";switch(s){case"undefined":case"buffer":case"null":r=e;break;case"array":o(e,function(){r=t.map(e,function(e){return t.canonicalize(e,i)})});break;case"function":for(n in e){r={};break}if(!r){r=v(e,s);break}case"object":r=r||{},o(e,function(){t.forEach(t.keys(e).sort(),function(n){r[n]=t.canonicalize(e[n],i)})});break;case"date":case"number":case"regexp":case"boolean":r=e;break;default:r=e.toString()}return r},t.lookupFiles=function m(e,t,i){var r=[],n=new RegExp("\\.("+t.join("|")+")$");if(!u(e)){if(!u(e+".js")){if(r=h.sync(e),!r.length)throw new Error("cannot resolve path (or pattern) '"+e+"'");return r}e+=".js"}try{var s=a.statSync(e);if(s.isFile())return e}catch(o){return}return a.readdirSync(e).forEach(function(s){s=d(e,s);try{var o=a.statSync(s);if(o.isDirectory())return void(i&&(r=r.concat(m(s,t,i))))}catch(l){return}o.isFile()&&n.test(s)&&"."!==c(s)[0]&&r.push(s)}),r},t.undefinedError=function(){return new Error("Caught undefined error, did you throw without specifying what?")},t.getError=function(e){return e||t.undefinedError()},t.stackTraceFilter=function(){function e(e){return~e.indexOf("node_modules")}function i(e){return~e.indexOf("node_modules"+o+"mocha")||~e.indexOf("components"+o+"mochajs")||~e.indexOf("components"+o+"mocha")}function r(e){return~e.indexOf("node_modules")||~e.indexOf("components")}function n(e){return~e.indexOf("(timers.js:")||~e.indexOf("(events.js:")||~e.indexOf("(node.js:")||~e.indexOf("(module.js:")||~e.indexOf("GeneratorFunctionPrototype.next (native)")||!1}var o="/",a="undefined"==typeof document?{node:!0}:{browser:!0},l=a.node?s.cwd()+o:location.href.replace(/\/[^\/]*$/,"/");return function(s){return s=s.split("\n"),s=t.reduce(s,function(t,s){return a.node&&(e(s)||i(s)||n(s))?t:a.browser&&r(s)?t:(t.push(s.replace(l,"")),t)},[]),s.join("\n")}}});var i=function(){return this}(),r=i.Date,n=i.setTimeout,s=(i.setInterval,i.clearTimeout,i.clearInterval,{});s.exit=function(e){},s.stdout={};var o=[],a=i.onerror;s.removeListener=function(e,t){if("uncaughtException"==e){a?i.onerror=a:i.onerror=function(){};var r=l.utils.indexOf(o,t);r!=-1&&o.splice(r,1)}},s.on=function(e,t){"uncaughtException"==e&&(i.onerror=function(e,i,r){return t(new Error(e+" ("+i+":"+r+")")),!0},o.push(t))};var l=i.Mocha=e("mocha"),c=i.mocha=new l({reporter:"html"});c.suite.removeAllListeners("pre-require");var u,h=[];l.Runner.immediately=function(e){h.push(e),u||(u=n(t,0))},c.throwError=function(e){throw l.utils.forEach(o,function(t){t(e)}),e},c.ui=function(e){return l.prototype.ui.call(this,e),this.suite.emit("pre-require",i,null,this),this},c.setup=function(e){"string"==typeof e&&(e={ui:e});for(var t in e)this[t](e[t]);return this},c.run=function(e){var t=c.options;c.globals("location");var r=l.utils.parseQuery(i.location.search||"");return r.grep&&c.grep(new RegExp(r.grep)),r.fgrep&&c.grep(r.fgrep),r.invert&&c.invert(),l.prototype.run.call(c,function(r){var n=i.document;n&&n.getElementById("mocha")&&t.noHighlighting!==!0&&l.utils.highlightTags("code"),e&&e(r)})},l.process=s}();