/*
 * Wallaby.js - v1.0.1328
 * https://wallabyjs.com
 * Copyright (c) 2014-2022 Wallaby.js - All Rights Reserved.
 *
 * This source code file is a part of Wallaby.js and is a proprietary (closed source) software.

 * IMPORTANT:
 * Wallaby.js is a tool made by software developers for software developers with passion and love for what we do.
 * Pirating the tool is not only illegal and just morally wrong,
 * it is also unfair to other fellow programmers who are using it legally,
 * and very harmful for the tool and its future.
 */
var __awaiter=this&&this.__awaiter||function(e,t,i,r){function n(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,s){function o(e){try{l(r.next(e))}catch(t){s(t)}}function a(e){try{l(r["throw"](e))}catch(t){s(t)}}function l(e){e.done?i(e.value):n(e.value).then(o,a)}l((r=r.apply(e,t||[])).next())})},__generator=this&&this.__generator||function(e,t){function i(e){return function(t){return r([e,t])}}function r(i){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,s&&(o=2&i[0]?s["return"]:i[0]?s["throw"]||((o=s["return"])&&o.call(s),0):s.next)&&!(o=o.call(s,i[1])).done)return o;switch(s=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,s=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(o=l.trys,!(o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){l=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){l.label=i[1];break}if(6===i[0]&&l.label<o[1]){l.label=o[1],o=i;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(i);break}o[2]&&l.ops.pop(),l.trys.pop();continue}i=t.call(e,l)}catch(r){i=[6,r],s=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}var n,s,o,a,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),"throw":i(1),"return":i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a},path=require("path"),tracer=global.$_$tracer,Jasmine,jasmine,jasmineCore,jasmineInstalled=!1,jasmineVersionGreaterThan2=!1,tracerUtils=tracer._utils;tracerUtils.patchModulesCode([{files:["jasmine-core/lib/jasmine-core/jasmine.js"],replacements:[{from:"function handleError(error) {",to:"function handleError(error) { onException(error); next(error); return;"}]}]);try{Jasmine=require(global.wallaby._testFrameworkPath||"jasmine"),Jasmine.prototype&&Jasmine.prototype.flushOutput&&(Jasmine.prototype.flushOutput=function(){});try{jasmineCore=require(global.wallaby._testFrameworkPath?path.join(path.dirname(global.wallaby._testFrameworkPath),"jasmine-core"):"jasmine-core")}catch(ignored){jasmineCore=require(global.wallaby._testFrameworkPath?path.join(global.wallaby._testFrameworkPath,"node_modules/jasmine-core"):"jasmine/node_modules/jasmine-core")}jasmineVersionGreaterThan2=jasmineCore&&jasmineCore.version&&"function"==typeof jasmineCore.version&&"string"==typeof jasmineCore.version()&&parseInt(jasmineCore.version().split(".")[0],10)>2,jasmineCore.ExceptionFormatter=function(){function e(){this.message=function(e){return e?e.name&&e.message?e.name+": "+e.message:e.toString():"empty error"},this.stack=function(e){return e?e.stack:null}}return e},jasmineCore.SpyStrategy=function(){function e(e){function t(e){return function(){return o=e.apply(null,arguments),s()}}e=e||{};var i,r=e.name||"unknown",n=e.fn||function(){},s=e.getSpy||function(){},o=function(){},a=e.customStrategies||{};for(i in a)Object.prototype.hasOwnProperty.call(a,i)&&!this[i]&&(this[i]=t(a[i]));var l="function"==typeof e.getPromise?e.getPromise:function(){},c=function(e){var t=l();if(!t)throw new Error(e+" requires global Promise, or `Promise` configured with `jasmine.getEnv().configure()`");return t};this.resolveTo=function(e){var t=c("resolveTo");return o=function(){return t.resolve(e)},s()},this.rejectWith=function(e){var t=c("rejectWith");return o=function(){return t.reject(e)},s()},this.identity=function(){return r},this.exec=function(e,t){return jasmineVersionGreaterThan2?o.apply(e,t):o.apply(this,arguments)},this.callThrough=function(){return o=n,s()},this.returnValue=function(e){return o=function(){return e},s()},this.returnValues=function(){var e=Array.prototype.slice.call(arguments);return o=function(){return e.shift()},s()},this.throwError=function(e){return o=function(){throw e instanceof Error?e:new Error(e)},s()},this.callFake=function(e){return o=e,s()},this.stub=function(e){return o=function(){},s()}}return e},jasmineCore.SpyRegistry=function(e){function t(t){t=t||{};var r=t.currentSpies||function(){return[]};this.allowRespy=function(e){this.respy=e},this.spyOn=function(t,n){if(e.util.isUndefined(t))throw new Error("spyOn could not find an object to spy upon for "+n+"()");if(e.util.isUndefined(n))throw new Error("No method name supplied");if(e.util.isUndefined(t[n]))throw new Error(n+"() method does not exist");if(t[n]&&e.isSpy(t[n])){if(this.respy)return t[n];throw new Error(n+" has already been spied upon")}var s;try{s=Object.getOwnPropertyDescriptor(t,n)}catch(o){}if(s&&!s.writable&&!s.set)throw new Error(n+" is not declared writable or has no setter");var a=e.createSpy(n,t[n]),l={spy:a,baseObj:t,methodName:n,originalValue:t[n],_wid:++i};return r().push(l),e._wallabyActiveSpies[l._wid]=l,t[n]=a,a},this.spyOnProperty=function(t,n,s){if(s=s||"get",e.util.isUndefined(t))throw new Error("spyOn could not find an object to spy upon for "+n);if(e.util.isUndefined(n))throw new Error("No property name supplied");var o;try{o=e.util.getPropertyDescriptor(t,n)}catch(a){}if(!o)throw new Error(n+" property does not exist");if(!o.configurable)throw new Error(n+" is not declared configurable");if(!o[s])throw new Error("Property "+n+" does not have access type "+s);if(e.isSpy(o[s]))throw new Error(n+" has already been spied upon");var l,c=e.util.clone(o),u=e.createSpy(n,o[s]);l=Object.prototype.hasOwnProperty.call(t,n)?function(){Object.defineProperty(t,n,c)}:function(){delete t[n]};var h={restoreObjectToOriginalState:l,_wid:++i};return r().push(h),e._wallabyActiveSpies[h._wid]=h,o[s]=u,Object.defineProperty(t,n,o),u},this.clearSpies=function(){for(var t=r(),i=0;i<t.length;i++){var n=t[i];n.restoreObjectToOriginalState?n.restoreObjectToOriginalState():n.baseObj[n.methodName]=n.originalValue,delete e._wallabyActiveSpies[n._wid]}}}var i=0;return e._wallabyActiveSpies={},e._wallabyUndoSpies=function(){for(var t in e._wallabyActiveSpies)if(e._wallabyActiveSpies.hasOwnProperty(t)){var i=e._wallabyActiveSpies[t];i.baseObj&&(i.baseObj[i.methodName]=i.originalValue,delete e._wallabyActiveSpies[i._wid])}},t},jasmineInstalled=!0}catch(e){tracer.start(function(){tracer.reportGlobalError("jasmine node module is not found or the version is not supported, missing `npm install jasmine --save-dev`?\n"+(e.stack||""))}),module.exports={init:function(){return{configure:function(){}}}}}if(jasmineInstalled){var allSpecs={},jasmineConfigurator=function(e,t){t.configure&&t.configure({specFilter:function(e){return!e||!e.metadata_||!e.metadata_.disabled}});var i=[],r=t.describe;t.describe=function(){i.push(arguments[0]);var e=Function.prototype.apply.call(r,this,arguments);return i.pop(),e};var n=t.fdescribe;t.fdescribe=function(){i.push(arguments[0]);var e=Function.prototype.apply.call(n,this,arguments);return i.pop(),e};var s=t.it;t.it=function(){var t=arguments[1];{if("encountered a declaration exception"!==arguments[0]){if(!t){var r=Function.prototype.apply.call(s,this,arguments);return allSpecs[r.id]={_testFile:e.entryFile()},r}t.length?arguments[1]=function(i){e.specSyncStart();try{var r=Function.prototype.apply.call(t,this,arguments)}finally{e.specSyncEnd()}return r}:arguments[1]=function(){e.specSyncStart();try{var i=Function.prototype.apply.call(t,this,arguments)}finally{e.specSyncEnd()}return i};var r=Function.prototype.apply.call(s,this,arguments),n=allSpecs[r.id]={_testFile:e.entryFile()},o=i.slice();return o.push(r.description),r.disabled=e.hasSpecFilter()&&!e.specFilter(o),r.disabled&&(r.markedPending=!0,n._disabled=!0),r}try{t()}catch(a){e.reportDeclarationError(a)}}};var o=t.afterEach;t.afterEach=function(){if(e.needToNotifySingleTestRun()){var t=arguments[0];t.length?arguments[0]=function(i){e.notifySingleTestAfterEach(function(){t(i)})}:arguments[0]=function(i){e.notifySingleTestAfterEach(function(){try{t()}finally{i()}})}}return Function.prototype.apply.call(o,this,arguments)}},JasmineReporter=function(e,t){var i=e.initialSpecId(),r=[],n={};this.jasmineStarted=function(i){t()||e.started({total:i.totalSpecsDefined})},this.jasmineDone=function(){t()||e.complete()},this.suiteStarted=function(e){t()||r.push(e.description)},this.suiteDone=function(i){if(!t()){if(i&&i.failedExpectations&&i.failedExpectations.length)for(var n=0;n<i.failedExpectations.length;n++){var s=i.failedExpectations[n];s&&!s.matcherName&&"string"==typeof s.message&&"string"==typeof s.stack&&e.reportDeclarationError({message:s.message,stack:s.stack})}r.pop()}},this.specStarted=function(r){if(!t()){var s=++i,o=n[r.id]={id:s};e.specStart(s,r.description),o.time=(new e._Date).getTime()}},this.specDone=function(s){if(!t()){var o=allSpecs[s.id]||{},a=n[s.id]||{id:i};s._id=a.id,s._time=a.time,delete n[s.id],delete allSpecs[s.id];var l=e.specEnd(),c="passed"===s.status,u="disabled"===s.status||"pending"===s.status||"excluded"===s.status||s._disabled,h=u?"pending"===s.status?"skipped":"excluded"===s.status?"disabled":"disabled"===s.status?"disabled":"executed":"executed";o._disabled&&(h="disabled");var d={id:s._id,timeRange:l,name:s.description,suite:r.slice(),status:h,time:u?0:(new e._Date).getTime()-s._time,log:[],testFile:o._testFile};if(!c&&!u)for(var p=s.failedExpectations,f=0;f<p.length;f++){var g=p[f];g.showDiff=g.showDiff||"toEqual"===g.matcherName,d.log.push(e.setAssertionData(g,{message:g.message,stack:g.stack}))}d.log.length||delete d.log,e.result(d)}}};tracer.start(function(){return __awaiter(this,void 0,void 0,function(){var e,t,i;return __generator(this,function(r){switch(r.label){case 0:allSpecs={},e=global.$_$session,t=function(){return e!==global.$_$session},jasmineConfigurator(tracer,jasmine.env),jasmine.clearReporters&&jasmine.clearReporters(),jasmine.onComplete&&jasmine.onComplete(function(){}),jasmine.addReporter(new JasmineReporter(tracer,t)),jasmine.onCompleteCallbackAdded=!0,jasmine.loader&&(jasmine.loader.alwaysImport=!1,jasmine.loader.resolvePath_=function(e){return path.resolve(e)+"?update="+(new Date).getTime()+"&wallaby=true"}),r.label=1;case 1:return r.trys.push([1,,4,5]),i=jasmine.execute(),i&&i.then&&"function"==typeof i.then?[4,i]:[3,3];case 2:r.sent(),r.label=3;case 3:return[3,5];case 4:return jasmine.checkExit&&process.removeListener("exit",jasmine.checkExit),[7];case 5:return[2]}})})}),module.exports={init:function(e){return jasmine=new Jasmine,jasmine.specFiles=e,jasmine}}}